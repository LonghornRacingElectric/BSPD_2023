(kicad_sch (version 20211123) (generator eeschema)

  (uuid 0fe4ddf7-7bbe-4049-b7b8-534dea6d7102)

  (paper "A4")

  (lib_symbols
    (symbol "Connector:TestPoint" (pin_numbers hide) (pin_names (offset 0.762) hide) (in_bom yes) (on_board yes)
      (property "Reference" "TP" (id 0) (at 0 6.858 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Value" "TestPoint" (id 1) (at 0 5.08 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (id 2) (at 5.08 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "~" (id 3) (at 5.08 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "test point tp" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "test point" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "Pin* Test*" (id 6) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "TestPoint_0_1"
        (circle (center 0 3.302) (radius 0.762)
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
      )
      (symbol "TestPoint_1_1"
        (pin passive line (at 0 0 90) (length 2.54)
          (name "1" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "Device:Q_PMOS_GSD" (pin_names (offset 0) hide) (in_bom yes) (on_board yes)
      (property "Reference" "Q" (id 0) (at 5.08 1.27 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Value" "Q_PMOS_GSD" (id 1) (at 5.08 -1.27 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Footprint" "" (id 2) (at 5.08 2.54 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "~" (id 3) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "transistor PMOS P-MOS P-MOSFET" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "P-MOSFET transistor, gate/source/drain" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "Q_PMOS_GSD_0_1"
        (polyline
          (pts
            (xy 0.254 0)
            (xy -2.54 0)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0.254 1.905)
            (xy 0.254 -1.905)
          )
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0.762 -1.27)
            (xy 0.762 -2.286)
          )
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0.762 0.508)
            (xy 0.762 -0.508)
          )
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0.762 2.286)
            (xy 0.762 1.27)
          )
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 2.54 2.54)
            (xy 2.54 1.778)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 2.54 -2.54)
            (xy 2.54 0)
            (xy 0.762 0)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0.762 1.778)
            (xy 3.302 1.778)
            (xy 3.302 -1.778)
            (xy 0.762 -1.778)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 2.286 0)
            (xy 1.27 0.381)
            (xy 1.27 -0.381)
            (xy 2.286 0)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type outline))
        )
        (polyline
          (pts
            (xy 2.794 -0.508)
            (xy 2.921 -0.381)
            (xy 3.683 -0.381)
            (xy 3.81 -0.254)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 3.302 -0.381)
            (xy 2.921 0.254)
            (xy 3.683 0.254)
            (xy 3.302 -0.381)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (circle (center 1.651 0) (radius 2.794)
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (circle (center 2.54 -1.778) (radius 0.254)
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type outline))
        )
        (circle (center 2.54 1.778) (radius 0.254)
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type outline))
        )
      )
      (symbol "Q_PMOS_GSD_1_1"
        (pin input line (at -5.08 0 0) (length 2.54)
          (name "G" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 2.54 -5.08 90) (length 2.54)
          (name "S" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 2.54 5.08 270) (length 2.54)
          (name "D" (effects (font (size 1.27 1.27))))
          (number "3" (effects (font (size 1.27 1.27))))
        )
      )
    )
  )

  (junction (at 200.66 43.18) (diameter 0) (color 0 0 0 0)
    (uuid 33213175-68f8-4b8b-992f-aa26378f1d32)
  )

  (polyline (pts (xy 39.37 129.54) (xy 39.37 158.75))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 08818acb-a145-4488-b885-fa8a51848b89)
  )
  (polyline (pts (xy 111.76 114.3) (xy 111.76 25.4))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 17fba06c-a672-4f05-b51e-ddc7eb2d47dd)
  )
  (polyline (pts (xy 166.37 25.4) (xy 166.37 114.3))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 2375af0c-02ba-4534-897d-6972d01ba1e0)
  )

  (wire (pts (xy 205.74 87.63) (xy 215.9 87.63))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 240cdf9a-2e44-4698-a510-edc2da32f6d0)
  )
  (wire (pts (xy 190.5 55.88) (xy 195.58 55.88))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 347ea3be-3afe-45f3-b9fa-aaf791164653)
  )
  (polyline (pts (xy 34.29 129.54) (xy 34.29 158.75))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 3a72065f-74a9-4d6f-bf71-fc651fdcd98a)
  )
  (polyline (pts (xy 34.29 158.75) (xy 71.12 158.75))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 3feb1c9b-9d1c-4831-96c0-a2b22044022e)
  )
  (polyline (pts (xy 50.8 114.3) (xy 111.76 114.3))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 4bf25a33-f703-40de-b1ef-15c240b19f69)
  )
  (polyline (pts (xy 39.37 158.75) (xy 39.37 158.75))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 56b12c7e-4533-4f35-bd72-825ef99a2329)
  )
  (polyline (pts (xy 34.29 129.54) (xy 71.12 129.54))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 6add83aa-2619-49d1-8759-c9d1a593fd1d)
  )
  (polyline (pts (xy 50.8 25.4) (xy 111.76 25.4))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 7073e4e1-35b1-4fa2-94b7-679bf0d7fd07)
  )
  (polyline (pts (xy 50.8 25.4) (xy 50.8 114.3))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 7610fec8-d5ae-40c0-817a-2ca16a013b9d)
  )
  (polyline (pts (xy 229.87 114.3) (xy 229.87 25.4))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 86b03554-be1e-487b-9883-d3ec4f89071d)
  )
  (polyline (pts (xy 71.12 129.54) (xy 71.12 158.75))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 8c6d4763-05bf-4ee2-99b0-f30fbff0a7cf)
  )
  (polyline (pts (xy 166.37 25.4) (xy 229.87 25.4))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid a033abe8-f872-41ec-904c-1d9abd3d270e)
  )
  (polyline (pts (xy 166.37 114.3) (xy 229.87 114.3))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid a56f8e85-34fc-4349-8b26-cc2b23372bd7)
  )
  (polyline (pts (xy 57.15 129.54) (xy 57.15 158.75))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid bc0d2441-4923-49df-8914-4369fb37bd8b)
  )

  (wire (pts (xy 200.66 43.18) (xy 200.66 48.26))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid c0cf8058-6670-4ac2-aae2-7f1e2d59a0e2)
  )
  (polyline (pts (xy 45.72 129.54) (xy 45.72 158.75))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid c23f9de9-639b-4c69-bfc1-d6583a2d1bec)
  )

  (wire (pts (xy 198.12 43.18) (xy 200.66 43.18))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid c64e0372-5800-4528-a010-66bdaf32b3e0)
  )
  (wire (pts (xy 198.12 76.2) (xy 200.66 76.2))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid cd89c659-abee-45b1-97e7-10a44e0d0dd3)
  )
  (wire (pts (xy 205.74 55.88) (xy 215.9 55.88))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid cf70dacb-984e-4abb-890e-383ad855c56d)
  )
  (wire (pts (xy 191.77 87.63) (xy 195.58 87.63))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid d41cf52c-62b1-443e-a4e5-aefad7d903d0)
  )
  (polyline (pts (xy 34.29 138.43) (xy 71.12 138.43))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid d4f6563c-5686-499c-836e-dc400239a541)
  )

  (wire (pts (xy 200.66 76.2) (xy 200.66 80.01))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid dfd397ed-99cc-4184-88f8-fe74ddfadf7c)
  )

  (text "5%" (at 38.1 134.62 180)
    (effects (font (size 1.27 1.27)) (justify right bottom))
    (uuid 1b77211b-1c64-409c-a64a-ec8ca753339a)
  )
  (text "STM32 Subsheet" (at 109.22 27.94 180)
    (effects (font (size 1.27 1.27)) (justify right bottom))
    (uuid 4860f59a-3292-4d75-aa77-0e48435666a1)
  )
  (text "0\n\n0\n\n1\n\n1" (at 52.07 154.94 180)
    (effects (font (size 1.27 1.27)) (justify right bottom))
    (uuid 4d71656a-d430-4ad2-b96a-63986199ab8a)
  )
  (text "25%" (at 44.45 134.62 180)
    (effects (font (size 1.27 1.27)) (justify right bottom))
    (uuid 81bf8f41-3025-48c8-b94a-a00b56881dd4)
  )
  (text "APPs Trip" (at 68.58 134.62 180)
    (effects (font (size 1.27 1.27)) (justify right bottom))
    (uuid 82057d1a-3af0-46dd-b2e2-189b1b358352)
  )
  (text "PMOS w/ APPs Signals to VCU" (at 228.6 29.21 180)
    (effects (font (size 1.27 1.27)) (justify right bottom))
    (uuid 891ffb6e-69a4-47b6-b6b8-6e81c5a2ca58)
  )
  (text "0\n\n1\n\n0\n\n1" (at 36.83 154.94 180)
    (effects (font (size 1.27 1.27)) (justify right bottom))
    (uuid 9bb8a308-4433-406b-95cc-b4c2543d3f87)
  )
  (text "APPs sensors are compared if below 5% or above 25%\nIf above 5% but below 25%, nothing changes\n	ie. If tripped stay tripped until below 5%\n	    If not tripped stay not tripped until above 25%\n\nIf above 25% and brakes pressed, trip signal high \n	which opens the mosfet and stops raw APPs signal from\n	being transmited to VCU which causes a fault\n\nIf below 5%,\n	if APPs not tripped, all good\n	if APPs tripped, reset\n\nThere should be no way for APPs to be above 25% pressed and below 5% pressed\nCross check also prevents one of the sensors being 5% and another being 25%\n\nAPPs signals and ANDed together so both must agree that the sensor is over 25% or below 5%\nAny brake signal can be pressed though"
    (at 82.55 166.37 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 9f12a83d-d7c5-48bc-966b-840eee2ddd11)
  )
  (text "Brakes" (at 54.61 134.62 180)
    (effects (font (size 1.27 1.27)) (justify right bottom))
    (uuid b0d1391a-26e4-4707-be9e-e139598c8718)
  )
  (text "NC\n\n0\n\n1\n\n0\n\n" (at 64.77 157.48 180)
    (effects (font (size 1.27 1.27)) (justify right bottom))
    (uuid c0165ba7-dabb-42eb-b5e2-d78be5c520ff)
  )
  (text "0\n\n0\n\n1\n\n0" (at 43.18 154.94 180)
    (effects (font (size 1.27 1.27)) (justify right bottom))
    (uuid cb049907-3246-4fe0-8983-65587a31ded3)
  )

  (label "APPS_Trip" (at 198.12 76.2 180)
    (effects (font (size 1.27 1.27)) (justify right bottom))
    (uuid 3570eca8-815e-4803-8a1e-63a15098df96)
  )
  (label "APPS_Trip" (at 198.12 43.18 180)
    (effects (font (size 1.27 1.27)) (justify right bottom))
    (uuid 5737b47f-0f0f-4186-8a67-f0ad87f02dbf)
  )
  (label "APPS_Trip" (at 113.03 68.58 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid b9e58534-14cc-4b98-bc5b-3ea1374c1390)
  )

  (hierarchical_label "APPs2_Out" (shape input) (at 215.9 87.63 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid 05b802d3-c8cc-4af8-ac67-ff4aa96b17d7)
  )
  (hierarchical_label "APPs1_5%" (shape input) (at 66.04 49.53 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 116f0b71-d5d7-4690-a677-68fa8ebbc7ce)
  )
  (hierarchical_label "Brake2" (shape input) (at 66.04 81.28 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 1b8fe81c-8db9-4702-a0ab-08bc8fbbdecb)
  )
  (hierarchical_label "Brake1" (shape input) (at 66.04 83.82 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 2f5edb2b-c7ea-4e48-aaa7-9c3e5d02ac59)
  )
  (hierarchical_label "APPs_5%" (shape input) (at 66.04 64.77 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 4a2def15-cf20-4335-a948-12020e2e50ee)
  )
  (hierarchical_label "APPs1_Signal" (shape input) (at 190.5 55.88 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 53e4fbfa-a3c1-42a9-8f39-c47133bf4354)
  )
  (hierarchical_label "APPs1_Out" (shape input) (at 215.9 55.88 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid 61d85440-3d67-4160-be4d-1b537871cb68)
  )
  (hierarchical_label "APPs2_25%" (shape input) (at 66.04 67.31 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 6d3b5d9c-5b62-4d66-a1f3-1d7de6c06185)
  )
  (hierarchical_label "APPs1_25%" (shape input) (at 66.04 52.07 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 8ad8552c-1e73-4031-ade2-85715dd72380)
  )
  (hierarchical_label "APPs2_Signal" (shape input) (at 191.77 87.63 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 95ce5d5a-e1f7-4380-8d22-45bac2c02c90)
  )
  (hierarchical_label "APPs1_Connect" (shape input) (at 67.31 97.79 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 96fe8765-3551-408c-8b9d-4015da6719f1)
  )
  (hierarchical_label "APPs2_Connect" (shape input) (at 67.31 95.25 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid d9a06d67-4936-4efe-8c07-1d51c50b47c8)
  )

  (symbol (lib_id "Connector:TestPoint") (at 200.66 43.18 0) (unit 1)
    (in_bom yes) (on_board yes) (fields_autoplaced)
    (uuid 6b87ab37-7541-4ddf-8ba3-6fc248c92ece)
    (property "Reference" "TP?" (id 0) (at 202.057 39.0433 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "TestPoint" (id 1) (at 202.057 41.5802 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "" (id 2) (at 205.74 43.18 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (id 3) (at 205.74 43.18 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 92ab738b-8f8f-4ad7-a59d-d00a945edbd6))
  )

  (symbol (lib_id "Device:Q_PMOS_GSD") (at 200.66 53.34 270) (unit 1)
    (in_bom yes) (on_board yes) (fields_autoplaced)
    (uuid 915835c4-b495-4553-9012-ee170242dfcd)
    (property "Reference" "Q?" (id 0) (at 200.66 59.8154 90))
    (property "Value" "Q_PMOS_GSD" (id 1) (at 200.66 62.3523 90))
    (property "Footprint" "" (id 2) (at 203.2 58.42 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "https://datasheet.lcsc.com/lcsc/1808272021_Vishay-Intertech-SI2301CDS-T1-GE3_C10487.pdf" (id 3) (at 200.66 53.34 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 4ac15387-ff50-4006-aa82-d0bd4b5254b7))
    (pin "2" (uuid ef3aaa99-3238-4f99-aa68-1f8f5489d3e1))
    (pin "3" (uuid 38a51f8d-a97b-4028-a776-09055b738c42))
  )

  (symbol (lib_id "Device:Q_PMOS_GSD") (at 200.66 85.09 270) (unit 1)
    (in_bom yes) (on_board yes) (fields_autoplaced)
    (uuid c50b0ee1-f427-4c32-82a7-8cee7a901260)
    (property "Reference" "Q?" (id 0) (at 200.66 91.5654 90))
    (property "Value" "Q_PMOS_GSD" (id 1) (at 200.66 94.1023 90))
    (property "Footprint" "" (id 2) (at 203.2 90.17 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "https://datasheet.lcsc.com/lcsc/1808272021_Vishay-Intertech-SI2301CDS-T1-GE3_C10487.pdf" (id 3) (at 200.66 85.09 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid b885c498-06b0-4349-b11f-bb4dec5e9f1d))
    (pin "2" (uuid 7e90fbca-cb12-4ace-9ced-a3dcb9b6c209))
    (pin "3" (uuid d3dc7f01-c535-4690-969a-705c55ecd22f))
  )
)
